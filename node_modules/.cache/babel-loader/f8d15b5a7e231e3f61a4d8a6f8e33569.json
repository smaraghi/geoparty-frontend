{"ast":null,"code":"import _slicedToArray from \"/Users/sarvin/development/projects/geoparty/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/sarvin/development/projects/geoparty/client/src/profile/containers/Options.js\";\nimport React, { useState, useContext } from 'react';\nimport shopContext from '../../context/shop-context';\nimport { Segment, Button, Form, Header } from 'semantic-ui-react';\n\nconst Options = () => {\n  const context = useContext(shopContext);\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        editingProfile = _useState2[0],\n        setEditingProfile = _useState2[1];\n\n  const _useState3 = useState(context.user.bio),\n        _useState4 = _slicedToArray(_useState3, 2),\n        bio = _useState4[0],\n        setBio = _useState4[1];\n\n  const handleSubmit = () => {\n    fetch(\"http://localhost:3000/users/\".concat(context.user.id), {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        bio: bio\n      })\n    });\n  };\n\n  const handleBioChange = e => {\n    if (e.target.value.length <= 150) {\n      setBio(e.target.value);\n    }\n  };\n\n  return React.createElement(Segment, {\n    id: \"profile-options\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, !editingProfile ? React.createElement(\"div\", {\n    id: \"edit-profile-button-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(Button, {\n    id: \"edit-profile-button\",\n    color: \"violet\",\n    onClick: () => setEditingProfile(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Edit Profile\")) : React.createElement(Form, {\n    onSubmit: e => {\n      e.preventDefault();\n      setEditingProfile(false);\n      context.setBio(bio);\n      handleSubmit();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Bio\"), React.createElement(Form.TextArea, {\n    name: \"bio\",\n    placeholder: context.user.bio,\n    onChange: handleBioChange,\n    value: bio,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(Button, {\n    color: \"violet\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Submit\")));\n};\n\nexport default Options;","map":{"version":3,"sources":["/Users/sarvin/development/projects/geoparty/client/src/profile/containers/Options.js"],"names":["React","useState","useContext","shopContext","Segment","Button","Form","Header","Options","context","editingProfile","setEditingProfile","user","bio","setBio","handleSubmit","fetch","id","method","headers","body","JSON","stringify","handleBioChange","e","target","value","length","preventDefault"],"mappings":";;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,SAASC,OAAT,EAAkBC,MAAlB,EAA0BC,IAA1B,EAAgCC,MAAhC,QAA8C,mBAA9C;;AAEA,MAAMC,OAAO,GAAG,MAAM;AACpB,QAAMC,OAAO,GAAGP,UAAU,CAACC,WAAD,CAA1B;;AADoB,oBAEwBF,QAAQ,CAAC,KAAD,CAFhC;AAAA;AAAA,QAEbS,cAFa;AAAA,QAEGC,iBAFH;;AAAA,qBAGEV,QAAQ,CAACQ,OAAO,CAACG,IAAR,CAAaC,GAAd,CAHV;AAAA;AAAA,QAGbA,GAHa;AAAA,QAGRC,MAHQ;;AAKpB,QAAMC,YAAY,GAAG,MAAM;AACzBC,IAAAA,KAAK,uCAAgCP,OAAO,CAACG,IAAR,CAAaK,EAA7C,GAAmD;AACtDC,MAAAA,MAAM,EAAE,OAD8C;AAEtDC,MAAAA,OAAO,EAAC;AAAC,wBAAe,kBAAhB;AAAoC,kBAAU;AAA9C,OAF8C;AAGtDC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAClBT,QAAAA,GAAG,EAAEA;AADa,OAAf;AAHiD,KAAnD,CAAL;AAOD,GARD;;AAUA,QAAMU,eAAe,GAAIC,CAAD,IAAO;AAC7B,QAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,MAAf,IAAyB,GAA7B,EAAkC;AAChCb,MAAAA,MAAM,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN;AACD;AACF,GAJD;;AAMA,SACE,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,iBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAChB,cAAD,GACD;AAAK,IAAA,EAAE,EAAC,+BAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,EAAE,EAAC,qBAAX;AAAiC,IAAA,KAAK,EAAC,QAAvC;AAAgD,IAAA,OAAO,EAAE,MAAMC,iBAAiB,CAAC,IAAD,CAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADC,GAKD,oBAAC,IAAD;AACE,IAAA,QAAQ,EAAGa,CAAD,IAAO;AACfA,MAAAA,CAAC,CAACI,cAAF;AACAjB,MAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACAF,MAAAA,OAAO,CAACK,MAAR,CAAeD,GAAf;AACAE,MAAAA,YAAY;AACb,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WARF,EASE,oBAAC,IAAD,CAAM,QAAN;AACE,IAAA,IAAI,EAAC,KADP;AAEE,IAAA,WAAW,EAAEN,OAAO,CAACG,IAAR,CAAaC,GAF5B;AAGE,IAAA,QAAQ,EAAEU,eAHZ;AAIE,IAAA,KAAK,EAAEV,GAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAeA,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,QAAd;AAAuB,IAAA,IAAI,EAAC,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAfA,CANF,CADF;AA2BD,CAhDD;;AAkDA,eAAeL,OAAf","sourcesContent":["\nimport React, { useState, useContext } from 'react'\nimport shopContext from '../../context/shop-context'\nimport { Segment, Button, Form, Header } from 'semantic-ui-react'\n\nconst Options = () => {\n  const context = useContext(shopContext)\n  const [editingProfile, setEditingProfile] = useState(false)\n  const [bio, setBio] = useState(context.user.bio)\n\n  const handleSubmit = () => {\n    fetch(`http://localhost:3000/users/${context.user.id}`, {\n      method: \"PATCH\",\n      headers:{\"Content-Type\":\"application/json\", \"Accept\": \"application/json\"},\n      body:JSON.stringify({\n        bio: bio\n    \t})\n    })\n  }\n\n  const handleBioChange = (e) => {\n    if (e.target.value.length <= 150) {\n      setBio(e.target.value)\n    }\n  }\n\n  return (\n    <Segment id=\"profile-options\">\n      {!editingProfile ?\n      <div id='edit-profile-button-container'>\n        <Button id='edit-profile-button' color='violet' onClick={() => setEditingProfile(true)}>Edit Profile</Button>\n      </div>\n      :\n      <Form\n        onSubmit={(e) => {\n          e.preventDefault()\n          setEditingProfile(false)\n          context.setBio(bio)\n          handleSubmit()\n        }}\n      >\n        <Header>Bio</Header>\n        <Form.TextArea\n          name='bio'\n          placeholder={context.user.bio}\n          onChange={handleBioChange}\n          value={bio}\n        />\n      <Button color='violet' type='submit'>Submit</Button>\n      </Form>\n      }\n    </Segment>\n  )\n}\n\nexport default Options\n"]},"metadata":{},"sourceType":"module"}